"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/components/pdf-viewer/pdf-viewer.tsx":
/*!**************************************************!*\
  !*** ./src/components/pdf-viewer/pdf-viewer.tsx ***!
  \**************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PdfViewer: function() { return /* binding */ PdfViewer; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ PdfViewer auto */ \nvar _s = $RefreshSig$();\n\nfunction PdfViewer(param) {\n    let { url } = param;\n    _s();\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"idle\");\n    const [errorMessage, setErrorMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [textItems, setTextItems] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [pageMeta, setPageMeta] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [selection, setSelection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const selectionRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let cancelled = false;\n        const render = async ()=>{\n            setState(\"loading\");\n            setErrorMessage(null);\n            const container = containerRef.current;\n            if (!container) return;\n            container.innerHTML = \"\";\n            try {\n                const pdfjs = await __webpack_require__.e(/*! import() */ \"_app-pages-browser_node_modules_pdfjs-dist_legacy_build_pdf_mjs\").then(__webpack_require__.bind(__webpack_require__, /*! pdfjs-dist/legacy/build/pdf */ \"(app-pages-browser)/./node_modules/pdfjs-dist/legacy/build/pdf.mjs\"));\n                pdfjs.GlobalWorkerOptions.workerSrc = \"/pdf.worker.min.mjs\";\n                const loadingTask = pdfjs.getDocument({\n                    url\n                });\n                const pdf = await loadingTask.promise;\n                if (cancelled) return;\n                const baseWidth = container.clientWidth || 720;\n                const nextMeta = {};\n                for(let pageNum = 1; pageNum <= pdf.numPages; pageNum += 1){\n                    const page = await pdf.getPage(pageNum);\n                    if (cancelled) return;\n                    const viewport = page.getViewport({\n                        scale: 1\n                    });\n                    const scale = baseWidth / viewport.width;\n                    const scaled = page.getViewport({\n                        scale\n                    });\n                    const pageWrapper = document.createElement(\"div\");\n                    pageWrapper.className = \"pdf-embed__page\";\n                    pageWrapper.dataset.pageNumber = String(pageNum);\n                    const canvas = document.createElement(\"canvas\");\n                    canvas.className = \"pdf-embed__canvas\";\n                    canvas.width = Math.floor(scaled.width);\n                    canvas.height = Math.floor(scaled.height);\n                    const overlay = document.createElement(\"div\");\n                    overlay.className = \"pdf-embed__overlay\";\n                    overlay.style.width = \"\".concat(Math.floor(scaled.width), \"px\");\n                    overlay.style.height = \"\".concat(Math.floor(scaled.height), \"px\");\n                    overlay.addEventListener(\"pointerdown\", handlePointerDown);\n                    overlay.addEventListener(\"pointermove\", handlePointerMove);\n                    overlay.addEventListener(\"pointerup\", handlePointerUp);\n                    pageWrapper.appendChild(canvas);\n                    pageWrapper.appendChild(overlay);\n                    container.appendChild(pageWrapper);\n                    const context = canvas.getContext(\"2d\");\n                    if (!context) continue;\n                    await page.render({\n                        canvasContext: context,\n                        viewport: scaled\n                    }).promise;\n                    nextMeta[pageNum] = {\n                        width: Math.floor(scaled.width),\n                        height: Math.floor(scaled.height),\n                        widthInch: viewport.width,\n                        heightInch: viewport.height\n                    };\n                }\n                if (!cancelled) {\n                    setPageMeta(nextMeta);\n                    setState(\"idle\");\n                }\n            } catch (error) {\n                if (!cancelled) {\n                    setState(\"error\");\n                    const message = error instanceof Error ? error.message : \"PDFを表示できませんでした\";\n                    setErrorMessage(message);\n                }\n            }\n        };\n        void render();\n        return ()=>{\n            cancelled = true;\n            if (containerRef.current) {\n                containerRef.current.innerHTML = \"\";\n            }\n        };\n    }, [\n        url\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const loadPositions = async ()=>{\n            if (!documentId || !accessToken) {\n                setTextItems({});\n                return;\n            }\n            try {\n                var _process_env_NEXT_PUBLIC_API_BASE_URL;\n                const baseUrl = (_process_env_NEXT_PUBLIC_API_BASE_URL = \"http://127.0.0.1:8000\") !== null && _process_env_NEXT_PUBLIC_API_BASE_URL !== void 0 ? _process_env_NEXT_PUBLIC_API_BASE_URL : \"http://127.0.0.1:8000\";\n                const response = await fetch(\"\".concat(baseUrl, \"/documents/\").concat(documentId, \"/text-positions\"), {\n                    headers: {\n                        Authorization: \"Bearer \".concat(accessToken)\n                    }\n                });\n                if (!response.ok) return;\n                const payload = await response.json();\n                const items = Array.isArray(payload.items) ? payload.items : [];\n                const next = {};\n                for (const item of items){\n                    const pageNumber = Number(item.pageNumber);\n                    if (!pageNumber || !item.bbox) continue;\n                    if (!next[pageNumber]) next[pageNumber] = [];\n                    var _item_text;\n                    next[pageNumber].push({\n                        text: String((_item_text = item.text) !== null && _item_text !== void 0 ? _item_text : \"\"),\n                        bbox: item.bbox\n                    });\n                }\n                setTextItems(next);\n            } catch (e) {\n                setTextItems({});\n            }\n        };\n        void loadPositions();\n    }, [\n        documentId,\n        accessToken\n    ]);\n    const handlePointerDown = (event)=>{\n        var _target_parentElement;\n        const target = event.currentTarget;\n        const pageNumber = Number((_target_parentElement = target.parentElement) === null || _target_parentElement === void 0 ? void 0 : _target_parentElement.dataset.pageNumber);\n        if (!pageNumber) return;\n        const rect = target.getBoundingClientRect();\n        const startX = event.clientX - rect.left;\n        const startY = event.clientY - rect.top;\n        const selectionEl = document.createElement(\"div\");\n        selectionEl.className = \"pdf-embed__selection\";\n        selectionEl.style.left = \"\".concat(startX, \"px\");\n        selectionEl.style.top = \"\".concat(startY, \"px\");\n        target.appendChild(selectionEl);\n        selectionRef.current = selectionEl;\n        setSelection({\n            pageNumber,\n            rect: {\n                left: startX,\n                top: startY,\n                width: 0,\n                height: 0\n            }\n        });\n        target.setPointerCapture(event.pointerId);\n    };\n    const handlePointerMove = (event)=>{\n        if (!selection || !selectionRef.current) return;\n        const target = event.currentTarget;\n        const rect = target.getBoundingClientRect();\n        const currentX = event.clientX - rect.left;\n        const currentY = event.clientY - rect.top;\n        const left = Math.min(selection.rect.left, currentX);\n        const top = Math.min(selection.rect.top, currentY);\n        const width = Math.abs(currentX - selection.rect.left);\n        const height = Math.abs(currentY - selection.rect.top);\n        selectionRef.current.style.left = \"\".concat(left, \"px\");\n        selectionRef.current.style.top = \"\".concat(top, \"px\");\n        selectionRef.current.style.width = \"\".concat(width, \"px\");\n        selectionRef.current.style.height = \"\".concat(height, \"px\");\n    };\n    const handlePointerUp = (event)=>{\n        const target = event.currentTarget;\n        target.releasePointerCapture(event.pointerId);\n        if (!selection) return;\n        const selectionEl = selectionRef.current;\n        selectionRef.current = null;\n        if (!selectionEl) return;\n        const pageNumber = selection.pageNumber;\n        const rect = selectionEl.getBoundingClientRect();\n        const targetRect = target.getBoundingClientRect();\n        const selectionRect = {\n            left: rect.left - targetRect.left,\n            top: rect.top - targetRect.top,\n            right: rect.right - targetRect.left,\n            bottom: rect.bottom - targetRect.top\n        };\n        selectionEl.remove();\n        setSelection(null);\n        const items = textItems[pageNumber] || [];\n        const meta = pageMeta[pageNumber];\n        if (!meta) return;\n        const scaleX = meta.width / meta.widthInch;\n        const scaleY = meta.height / meta.heightInch;\n        const selected = [];\n        for (const item of items){\n            const [x1, y1, x2, y2] = item.bbox;\n            const left = x1 * scaleX;\n            const top = y1 * scaleY;\n            const right = x2 * scaleX;\n            const bottom = y2 * scaleY;\n            const intersects = left < selectionRect.right && right > selectionRect.left && top < selectionRect.bottom && bottom > selectionRect.top;\n            if (intersects) {\n                selected.push(item);\n                const highlight = document.createElement(\"div\");\n                highlight.className = \"pdf-embed__highlight\";\n                highlight.style.left = \"\".concat(left, \"px\");\n                highlight.style.top = \"\".concat(top, \"px\");\n                highlight.style.width = \"\".concat(right - left, \"px\");\n                highlight.style.height = \"\".concat(bottom - top, \"px\");\n                target.appendChild(highlight);\n            }\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"pdf-embed\",\n        children: [\n            state === \"loading\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"empty-state\",\n                children: \"PDFを読み込み中...\"\n            }, void 0, false, {\n                fileName: \"/Users/programs/ask-pdf/apps/web/src/components/pdf-viewer/pdf-viewer.tsx\",\n                lineNumber: 244,\n                columnNumber: 9\n            }, this) : null,\n            state === \"error\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"empty-state\",\n                children: [\n                    \"PDFの表示に失敗しました\",\n                    errorMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"pdf-embed__error\",\n                        children: errorMessage\n                    }, void 0, false, {\n                        fileName: \"/Users/programs/ask-pdf/apps/web/src/components/pdf-viewer/pdf-viewer.tsx\",\n                        lineNumber: 249,\n                        columnNumber: 27\n                    }, this) : null\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/programs/ask-pdf/apps/web/src/components/pdf-viewer/pdf-viewer.tsx\",\n                lineNumber: 247,\n                columnNumber: 9\n            }, this) : null,\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: containerRef,\n                className: \"pdf-embed__pages\"\n            }, void 0, false, {\n                fileName: \"/Users/programs/ask-pdf/apps/web/src/components/pdf-viewer/pdf-viewer.tsx\",\n                lineNumber: 252,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/programs/ask-pdf/apps/web/src/components/pdf-viewer/pdf-viewer.tsx\",\n        lineNumber: 242,\n        columnNumber: 5\n    }, this);\n}\n_s(PdfViewer, \"dqY/pqMNwgoZ5HYhA21zzR9tkuc=\");\n_c = PdfViewer;\nvar _c;\n$RefreshReg$(_c, \"PdfViewer\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL3BkZi12aWV3ZXIvcGRmLXZpZXdlci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRW9EO0FBVTdDLFNBQVNHLFVBQVUsS0FBdUI7UUFBdkIsRUFBRUMsR0FBRyxFQUFrQixHQUF2Qjs7SUFDeEIsTUFBTUMsZUFBZUosNkNBQU1BLENBQXdCO0lBQ25ELE1BQU0sQ0FBQ0ssT0FBT0MsU0FBUyxHQUFHTCwrQ0FBUUEsQ0FBYztJQUNoRCxNQUFNLENBQUNNLGNBQWNDLGdCQUFnQixHQUFHUCwrQ0FBUUEsQ0FBZ0I7SUFDaEUsTUFBTSxDQUFDUSxXQUFXQyxhQUFhLEdBQUdULCtDQUFRQSxDQUE2QixDQUFDO0lBQ3hFLE1BQU0sQ0FBQ1UsVUFBVUMsWUFBWSxHQUFHWCwrQ0FBUUEsQ0FBMkIsQ0FBQztJQUNwRSxNQUFNLENBQUNZLFdBQVdDLGFBQWEsR0FBR2IsK0NBQVFBLENBQXdCO0lBQ2xFLE1BQU1jLGVBQWVmLDZDQUFNQSxDQUF3QjtJQW1CbkRELGdEQUFTQSxDQUFDO1FBQ1IsSUFBSWlCLFlBQVk7UUFDaEIsTUFBTUMsU0FBUztZQUNiWCxTQUFTO1lBQ1RFLGdCQUFnQjtZQUNoQixNQUFNVSxZQUFZZCxhQUFhZSxPQUFPO1lBQ3RDLElBQUksQ0FBQ0QsV0FBVztZQUNoQkEsVUFBVUUsU0FBUyxHQUFHO1lBQ3RCLElBQUk7Z0JBQ0YsTUFBTUMsUUFBUSxNQUFNLHFRQUFxQztnQkFDekRBLE1BQU1DLG1CQUFtQixDQUFDQyxTQUFTLEdBQUc7Z0JBQ3RDLE1BQU1DLGNBQWNILE1BQU1JLFdBQVcsQ0FBQztvQkFBRXRCO2dCQUFJO2dCQUM1QyxNQUFNdUIsTUFBTSxNQUFNRixZQUFZRyxPQUFPO2dCQUNyQyxJQUFJWCxXQUFXO2dCQUNmLE1BQU1ZLFlBQVlWLFVBQVVXLFdBQVcsSUFBSTtnQkFFM0MsTUFBTUMsV0FBcUMsQ0FBQztnQkFDNUMsSUFBSyxJQUFJQyxVQUFVLEdBQUdBLFdBQVdMLElB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O2tDQUFvQnBDOzs7OzsrQkFBdUI7Ozs7Ozt1QkFFM0U7MEJBQ0osOERBQUNxSDtnQkFBSUUsS0FBSzFIO2dCQUFjdUMsV0FBVTs7Ozs7Ozs7Ozs7O0FBR3hDO0dBbFBnQnpDO0tBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL3BkZi12aWV3ZXIvcGRmLXZpZXdlci50c3g/ZGFiOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5cbnR5cGUgUGRmVmlld2VyUHJvcHMgPSB7XG4gIHVybDogc3RyaW5nO1xuICBkb2N1bWVudElkOiBzdHJpbmcgfCBudWxsO1xuICBhY2Nlc3NUb2tlbjogc3RyaW5nIHwgbnVsbDtcbn07XG5cbnR5cGUgUmVuZGVyU3RhdGUgPSBcImlkbGVcIiB8IFwibG9hZGluZ1wiIHwgXCJlcnJvclwiO1xuXG5leHBvcnQgZnVuY3Rpb24gUGRmVmlld2VyKHsgdXJsIH06IFBkZlZpZXdlclByb3BzKSB7XG4gIGNvbnN0IGNvbnRhaW5lclJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlPFJlbmRlclN0YXRlPihcImlkbGVcIik7XG4gIGNvbnN0IFtlcnJvck1lc3NhZ2UsIHNldEVycm9yTWVzc2FnZV0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3RleHRJdGVtcywgc2V0VGV4dEl0ZW1zXSA9IHVzZVN0YXRlPFJlY29yZDxudW1iZXIsIFRleHRJdGVtW10+Pih7fSk7XG4gIGNvbnN0IFtwYWdlTWV0YSwgc2V0UGFnZU1ldGFdID0gdXNlU3RhdGU8UmVjb3JkPG51bWJlciwgUGFnZU1ldGE+Pih7fSk7XG4gIGNvbnN0IFtzZWxlY3Rpb24sIHNldFNlbGVjdGlvbl0gPSB1c2VTdGF0ZTxTZWxlY3Rpb25TdGF0ZSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBzZWxlY3Rpb25SZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQgfCBudWxsPihudWxsKTtcblxuICB0eXBlIFRleHRJdGVtID0ge1xuICAgIHRleHQ6IHN0cmluZztcbiAgICBiYm94OiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXTtcbiAgfTtcblxuICB0eXBlIFBhZ2VNZXRhID0ge1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gICAgd2lkdGhJbmNoOiBudW1iZXI7XG4gICAgaGVpZ2h0SW5jaDogbnVtYmVyO1xuICB9O1xuXG4gIHR5cGUgU2VsZWN0aW9uU3RhdGUgPSB7XG4gICAgcGFnZU51bWJlcjogbnVtYmVyO1xuICAgIHJlY3Q6IHsgbGVmdDogbnVtYmVyOyB0b3A6IG51bWJlcjsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfTtcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBjYW5jZWxsZWQgPSBmYWxzZTtcbiAgICBjb25zdCByZW5kZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICBzZXRTdGF0ZShcImxvYWRpbmdcIik7XG4gICAgICBzZXRFcnJvck1lc3NhZ2UobnVsbCk7XG4gICAgICBjb25zdCBjb250YWluZXIgPSBjb250YWluZXJSZWYuY3VycmVudDtcbiAgICAgIGlmICghY29udGFpbmVyKSByZXR1cm47XG4gICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBkZmpzID0gYXdhaXQgaW1wb3J0KFwicGRmanMtZGlzdC9sZWdhY3kvYnVpbGQvcGRmXCIpO1xuICAgICAgICBwZGZqcy5HbG9iYWxXb3JrZXJPcHRpb25zLndvcmtlclNyYyA9IFwiL3BkZi53b3JrZXIubWluLm1qc1wiO1xuICAgICAgICBjb25zdCBsb2FkaW5nVGFzayA9IHBkZmpzLmdldERvY3VtZW50KHsgdXJsIH0pO1xuICAgICAgICBjb25zdCBwZGYgPSBhd2FpdCBsb2FkaW5nVGFzay5wcm9taXNlO1xuICAgICAgICBpZiAoY2FuY2VsbGVkKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGJhc2VXaWR0aCA9IGNvbnRhaW5lci5jbGllbnRXaWR0aCB8fCA3MjA7XG5cbiAgICAgICAgY29uc3QgbmV4dE1ldGE6IFJlY29yZDxudW1iZXIsIFBhZ2VNZXRhPiA9IHt9O1xuICAgICAgICBmb3IgKGxldCBwYWdlTnVtID0gMTsgcGFnZU51bSA8PSBwZGYubnVtUGFnZXM7IHBhZ2VOdW0gKz0gMSkge1xuICAgICAgICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCBwZGYuZ2V0UGFnZShwYWdlTnVtKTtcbiAgICAgICAgICBpZiAoY2FuY2VsbGVkKSByZXR1cm47XG5cbiAgICAgICAgICBjb25zdCB2aWV3cG9ydCA9IHBhZ2UuZ2V0Vmlld3BvcnQoeyBzY2FsZTogMSB9KTtcbiAgICAgICAgICBjb25zdCBzY2FsZSA9IGJhc2VXaWR0aCAvIHZpZXdwb3J0LndpZHRoO1xuICAgICAgICAgIGNvbnN0IHNjYWxlZCA9IHBhZ2UuZ2V0Vmlld3BvcnQoeyBzY2FsZSB9KTtcblxuICAgICAgICAgIGNvbnN0IHBhZ2VXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICBwYWdlV3JhcHBlci5jbGFzc05hbWUgPSBcInBkZi1lbWJlZF9fcGFnZVwiO1xuICAgICAgICAgIHBhZ2VXcmFwcGVyLmRhdGFzZXQucGFnZU51bWJlciA9IFN0cmluZyhwYWdlTnVtKTtcblxuICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgICAgICAgY2FudmFzLmNsYXNzTmFtZSA9IFwicGRmLWVtYmVkX19jYW52YXNcIjtcbiAgICAgICAgICBjYW52YXMud2lkdGggPSBNYXRoLmZsb29yKHNjYWxlZC53aWR0aCk7XG4gICAgICAgICAgY2FudmFzLmhlaWdodCA9IE1hdGguZmxvb3Ioc2NhbGVkLmhlaWdodCk7XG5cbiAgICAgICAgICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICBvdmVybGF5LmNsYXNzTmFtZSA9IFwicGRmLWVtYmVkX19vdmVybGF5XCI7XG4gICAgICAgICAgb3ZlcmxheS5zdHlsZS53aWR0aCA9IGAke01hdGguZmxvb3Ioc2NhbGVkLndpZHRoKX1weGA7XG4gICAgICAgICAgb3ZlcmxheS5zdHlsZS5oZWlnaHQgPSBgJHtNYXRoLmZsb29yKHNjYWxlZC5oZWlnaHQpfXB4YDtcbiAgICAgICAgICBvdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCBoYW5kbGVQb2ludGVyRG93bik7XG4gICAgICAgICAgb3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIiwgaGFuZGxlUG9pbnRlck1vdmUpO1xuICAgICAgICAgIG92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLCBoYW5kbGVQb2ludGVyVXApO1xuXG4gICAgICAgICAgcGFnZVdyYXBwZXIuYXBwZW5kQ2hpbGQoY2FudmFzKTtcbiAgICAgICAgICBwYWdlV3JhcHBlci5hcHBlbmRDaGlsZChvdmVybGF5KTtcbiAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocGFnZVdyYXBwZXIpO1xuXG4gICAgICAgICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgICAgaWYgKCFjb250ZXh0KSBjb250aW51ZTtcbiAgICAgICAgICBhd2FpdCBwYWdlLnJlbmRlcih7IGNhbnZhc0NvbnRleHQ6IGNvbnRleHQsIHZpZXdwb3J0OiBzY2FsZWQgfSkucHJvbWlzZTtcblxuICAgICAgICAgIG5leHRNZXRhW3BhZ2VOdW1dID0ge1xuICAgICAgICAgICAgd2lkdGg6IE1hdGguZmxvb3Ioc2NhbGVkLndpZHRoKSxcbiAgICAgICAgICAgIGhlaWdodDogTWF0aC5mbG9vcihzY2FsZWQuaGVpZ2h0KSxcbiAgICAgICAgICAgIHdpZHRoSW5jaDogdmlld3BvcnQud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHRJbmNoOiB2aWV3cG9ydC5oZWlnaHQsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY2FuY2VsbGVkKSB7XG4gICAgICAgICAgc2V0UGFnZU1ldGEobmV4dE1ldGEpO1xuICAgICAgICAgIHNldFN0YXRlKFwiaWRsZVwiKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKCFjYW5jZWxsZWQpIHtcbiAgICAgICAgICBzZXRTdGF0ZShcImVycm9yXCIpO1xuICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPVxuICAgICAgICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlBERuOCkuihqOekuuOBp+OBjeOBvuOBm+OCk+OBp+OBl+OBn1wiO1xuICAgICAgICAgIHNldEVycm9yTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICB2b2lkIHJlbmRlcigpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjYW5jZWxsZWQgPSB0cnVlO1xuICAgICAgaWYgKGNvbnRhaW5lclJlZi5jdXJyZW50KSB7XG4gICAgICAgIGNvbnRhaW5lclJlZi5jdXJyZW50LmlubmVySFRNTCA9IFwiXCI7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW3VybF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbG9hZFBvc2l0aW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghZG9jdW1lbnRJZCB8fCAhYWNjZXNzVG9rZW4pIHtcbiAgICAgICAgc2V0VGV4dEl0ZW1zKHt9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9CQVNFX1VSTCA/PyBcImh0dHA6Ly8xMjcuMC4wLjE6ODAwMFwiO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke2Jhc2VVcmx9L2RvY3VtZW50cy8ke2RvY3VtZW50SWR9L3RleHQtcG9zaXRpb25zYCwge1xuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHthY2Nlc3NUb2tlbn1gLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gQXJyYXkuaXNBcnJheShwYXlsb2FkLml0ZW1zKSA/IHBheWxvYWQuaXRlbXMgOiBbXTtcbiAgICAgICAgY29uc3QgbmV4dDogUmVjb3JkPG51bWJlciwgVGV4dEl0ZW1bXT4gPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgY29uc3QgcGFnZU51bWJlciA9IE51bWJlcihpdGVtLnBhZ2VOdW1iZXIpO1xuICAgICAgICAgIGlmICghcGFnZU51bWJlciB8fCAhaXRlbS5iYm94KSBjb250aW51ZTtcbiAgICAgICAgICBpZiAoIW5leHRbcGFnZU51bWJlcl0pIG5leHRbcGFnZU51bWJlcl0gPSBbXTtcbiAgICAgICAgICBuZXh0W3BhZ2VOdW1iZXJdLnB1c2goe1xuICAgICAgICAgICAgdGV4dDogU3RyaW5nKGl0ZW0udGV4dCA/PyBcIlwiKSxcbiAgICAgICAgICAgIGJib3g6IGl0ZW0uYmJveCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBzZXRUZXh0SXRlbXMobmV4dCk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgc2V0VGV4dEl0ZW1zKHt9KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZvaWQgbG9hZFBvc2l0aW9ucygpO1xuICB9LCBbZG9jdW1lbnRJZCwgYWNjZXNzVG9rZW5dKTtcblxuICBjb25zdCBoYW5kbGVQb2ludGVyRG93biA9IChldmVudDogUG9pbnRlckV2ZW50KSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldCBhcyBIVE1MRGl2RWxlbWVudDtcbiAgICBjb25zdCBwYWdlTnVtYmVyID0gTnVtYmVyKHRhcmdldC5wYXJlbnRFbGVtZW50Py5kYXRhc2V0LnBhZ2VOdW1iZXIpO1xuICAgIGlmICghcGFnZU51bWJlcikgcmV0dXJuO1xuICAgIGNvbnN0IHJlY3QgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3Qgc3RhcnRYID0gZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdDtcbiAgICBjb25zdCBzdGFydFkgPSBldmVudC5jbGllbnRZIC0gcmVjdC50b3A7XG4gICAgY29uc3Qgc2VsZWN0aW9uRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHNlbGVjdGlvbkVsLmNsYXNzTmFtZSA9IFwicGRmLWVtYmVkX19zZWxlY3Rpb25cIjtcbiAgICBzZWxlY3Rpb25FbC5zdHlsZS5sZWZ0ID0gYCR7c3RhcnRYfXB4YDtcbiAgICBzZWxlY3Rpb25FbC5zdHlsZS50b3AgPSBgJHtzdGFydFl9cHhgO1xuICAgIHRhcmdldC5hcHBlbmRDaGlsZChzZWxlY3Rpb25FbCk7XG4gICAgc2VsZWN0aW9uUmVmLmN1cnJlbnQgPSBzZWxlY3Rpb25FbDtcbiAgICBzZXRTZWxlY3Rpb24oe1xuICAgICAgcGFnZU51bWJlcixcbiAgICAgIHJlY3Q6IHsgbGVmdDogc3RhcnRYLCB0b3A6IHN0YXJ0WSwgd2lkdGg6IDAsIGhlaWdodDogMCB9LFxuICAgIH0pO1xuICAgIHRhcmdldC5zZXRQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVBvaW50ZXJNb3ZlID0gKGV2ZW50OiBQb2ludGVyRXZlbnQpID0+IHtcbiAgICBpZiAoIXNlbGVjdGlvbiB8fCAhc2VsZWN0aW9uUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICBjb25zdCB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0IGFzIEhUTUxEaXZFbGVtZW50O1xuICAgIGNvbnN0IHJlY3QgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgY3VycmVudFggPSBldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0O1xuICAgIGNvbnN0IGN1cnJlbnRZID0gZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wO1xuICAgIGNvbnN0IGxlZnQgPSBNYXRoLm1pbihzZWxlY3Rpb24ucmVjdC5sZWZ0LCBjdXJyZW50WCk7XG4gICAgY29uc3QgdG9wID0gTWF0aC5taW4oc2VsZWN0aW9uLnJlY3QudG9wLCBjdXJyZW50WSk7XG4gICAgY29uc3Qgd2lkdGggPSBNYXRoLmFicyhjdXJyZW50WCAtIHNlbGVjdGlvbi5yZWN0LmxlZnQpO1xuICAgIGNvbnN0IGhlaWdodCA9IE1hdGguYWJzKGN1cnJlbnRZIC0gc2VsZWN0aW9uLnJlY3QudG9wKTtcbiAgICBzZWxlY3Rpb25SZWYuY3VycmVudC5zdHlsZS5sZWZ0ID0gYCR7bGVmdH1weGA7XG4gICAgc2VsZWN0aW9uUmVmLmN1cnJlbnQuc3R5bGUudG9wID0gYCR7dG9wfXB4YDtcbiAgICBzZWxlY3Rpb25SZWYuY3VycmVudC5zdHlsZS53aWR0aCA9IGAke3dpZHRofXB4YDtcbiAgICBzZWxlY3Rpb25SZWYuY3VycmVudC5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVBvaW50ZXJVcCA9IChldmVudDogUG9pbnRlckV2ZW50KSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldCBhcyBIVE1MRGl2RWxlbWVudDtcbiAgICB0YXJnZXQucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGV2ZW50LnBvaW50ZXJJZCk7XG4gICAgaWYgKCFzZWxlY3Rpb24pIHJldHVybjtcbiAgICBjb25zdCBzZWxlY3Rpb25FbCA9IHNlbGVjdGlvblJlZi5jdXJyZW50O1xuICAgIHNlbGVjdGlvblJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICBpZiAoIXNlbGVjdGlvbkVsKSByZXR1cm47XG4gICAgY29uc3QgcGFnZU51bWJlciA9IHNlbGVjdGlvbi5wYWdlTnVtYmVyO1xuICAgIGNvbnN0IHJlY3QgPSBzZWxlY3Rpb25FbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCB0YXJnZXRSZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHNlbGVjdGlvblJlY3QgPSB7XG4gICAgICBsZWZ0OiByZWN0LmxlZnQgLSB0YXJnZXRSZWN0LmxlZnQsXG4gICAgICB0b3A6IHJlY3QudG9wIC0gdGFyZ2V0UmVjdC50b3AsXG4gICAgICByaWdodDogcmVjdC5yaWdodCAtIHRhcmdldFJlY3QubGVmdCxcbiAgICAgIGJvdHRvbTogcmVjdC5ib3R0b20gLSB0YXJnZXRSZWN0LnRvcCxcbiAgICB9O1xuICAgIHNlbGVjdGlvbkVsLnJlbW92ZSgpO1xuICAgIHNldFNlbGVjdGlvbihudWxsKTtcblxuICAgIGNvbnN0IGl0ZW1zID0gdGV4dEl0ZW1zW3BhZ2VOdW1iZXJdIHx8IFtdO1xuICAgIGNvbnN0IG1ldGEgPSBwYWdlTWV0YVtwYWdlTnVtYmVyXTtcbiAgICBpZiAoIW1ldGEpIHJldHVybjtcblxuICAgIGNvbnN0IHNjYWxlWCA9IG1ldGEud2lkdGggLyBtZXRhLndpZHRoSW5jaDtcbiAgICBjb25zdCBzY2FsZVkgPSBtZXRhLmhlaWdodCAvIG1ldGEuaGVpZ2h0SW5jaDtcblxuICAgIGNvbnN0IHNlbGVjdGVkOiBUZXh0SXRlbVtdID0gW107XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICBjb25zdCBbeDEsIHkxLCB4MiwgeTJdID0gaXRlbS5iYm94O1xuICAgICAgY29uc3QgbGVmdCA9IHgxICogc2NhbGVYO1xuICAgICAgY29uc3QgdG9wID0geTEgKiBzY2FsZVk7XG4gICAgICBjb25zdCByaWdodCA9IHgyICogc2NhbGVYO1xuICAgICAgY29uc3QgYm90dG9tID0geTIgKiBzY2FsZVk7XG4gICAgICBjb25zdCBpbnRlcnNlY3RzID1cbiAgICAgICAgbGVmdCA8IHNlbGVjdGlvblJlY3QucmlnaHQgJiZcbiAgICAgICAgcmlnaHQgPiBzZWxlY3Rpb25SZWN0LmxlZnQgJiZcbiAgICAgICAgdG9wIDwgc2VsZWN0aW9uUmVjdC5ib3R0b20gJiZcbiAgICAgICAgYm90dG9tID4gc2VsZWN0aW9uUmVjdC50b3A7XG4gICAgICBpZiAoaW50ZXJzZWN0cykge1xuICAgICAgICBzZWxlY3RlZC5wdXNoKGl0ZW0pO1xuICAgICAgICBjb25zdCBoaWdobGlnaHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBoaWdobGlnaHQuY2xhc3NOYW1lID0gXCJwZGYtZW1iZWRfX2hpZ2hsaWdodFwiO1xuICAgICAgICBoaWdobGlnaHQuc3R5bGUubGVmdCA9IGAke2xlZnR9cHhgO1xuICAgICAgICBoaWdobGlnaHQuc3R5bGUudG9wID0gYCR7dG9wfXB4YDtcbiAgICAgICAgaGlnaGxpZ2h0LnN0eWxlLndpZHRoID0gYCR7cmlnaHQgLSBsZWZ0fXB4YDtcbiAgICAgICAgaGlnaGxpZ2h0LnN0eWxlLmhlaWdodCA9IGAke2JvdHRvbSAtIHRvcH1weGA7XG4gICAgICAgIHRhcmdldC5hcHBlbmRDaGlsZChoaWdobGlnaHQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicGRmLWVtYmVkXCI+XG4gICAgICB7c3RhdGUgPT09IFwibG9hZGluZ1wiID8gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVtcHR5LXN0YXRlXCI+UERG44KS6Kqt44G/6L6844G/5LitLi4uPC9kaXY+XG4gICAgICApIDogbnVsbH1cbiAgICAgIHtzdGF0ZSA9PT0gXCJlcnJvclwiID8gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVtcHR5LXN0YXRlXCI+XG4gICAgICAgICAgUERG44Gu6KGo56S644Gr5aSx5pWX44GX44G+44GX44GfXG4gICAgICAgICAge2Vycm9yTWVzc2FnZSA/IDxzcGFuIGNsYXNzTmFtZT1cInBkZi1lbWJlZF9fZXJyb3JcIj57ZXJyb3JNZXNzYWdlfTwvc3Bhbj4gOiBudWxsfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICkgOiBudWxsfVxuICAgICAgPGRpdiByZWY9e2NvbnRhaW5lclJlZn0gY2xhc3NOYW1lPVwicGRmLWVtYmVkX19wYWdlc1wiIC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJQZGZWaWV3ZXIiLCJ1cmwiLCJjb250YWluZXJSZWYiLCJzdGF0ZSIsInNldFN0YXRlIiwiZXJyb3JNZXNzYWdlIiwic2V0RXJyb3JNZXNzYWdlIiwidGV4dEl0ZW1zIiwic2V0VGV4dEl0ZW1zIiwicGFnZU1ldGEiLCJzZXRQYWdlTWV0YSIsInNlbGVjdGlvbiIsInNldFNlbGVjdGlvbiIsInNlbGVjdGlvblJlZiIsImNhbmNlbGxlZCIsInJlbmRlciIsImNvbnRhaW5lciIsImN1cnJlbnQiLCJpbm5lckhUTUwiLCJwZGZqcyIsIkdsb2JhbFdvcmtlck9wdGlvbnMiLCJ3b3JrZXJTcmMiLCJsb2FkaW5nVGFzayIsImdldERvY3VtZW50IiwicGRmIiwicHJvbWlzZSIsImJhc2VXaWR0aCIsImNsaWVudFdpZHRoIiwibmV4dE1ldGEiLCJwYWdlTnVtIiwibnVtUGFnZXMiLCJwYWdlIiwiZ2V0UGFnZSIsInZpZXdwb3J0IiwiZ2V0Vmlld3BvcnQiLCJzY2FsZSIsIndpZHRoIiwic2NhbGVkIiwicGFnZVdyYXBwZXIiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJkYXRhc2V0IiwicGFnZU51bWJlciIsIlN0cmluZyIsImNhbnZhcyIsIk1hdGgiLCJmbG9vciIsImhlaWdodCIsIm92ZXJsYXkiLCJzdHlsZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVQb2ludGVyRG93biIsImhhbmRsZVBvaW50ZXJNb3ZlIiwiaGFuZGxlUG9pbnRlclVwIiwiYXBwZW5kQ2hpbGQiLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsImNhbnZhc0NvbnRleHQiLCJ3aWR0aEluY2giLCJoZWlnaHRJbmNoIiwiZXJyb3IiLCJtZXNzYWdlIiwiRXJyb3IiLCJsb2FkUG9zaXRpb25zIiwiZG9jdW1lbnRJZCIsImFjY2Vzc1Rva2VuIiwicHJvY2VzcyIsImJhc2VVcmwiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfQkFTRV9VUkwiLCJyZXNwb25zZSIsImZldGNoIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJvayIsInBheWxvYWQiLCJqc29uIiwiaXRlbXMiLCJBcnJheSIsImlzQXJyYXkiLCJuZXh0IiwiaXRlbSIsIk51bWJlciIsImJib3giLCJwdXNoIiwidGV4dCIsImV2ZW50IiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsInBhcmVudEVsZW1lbnQiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwic3RhcnRYIiwiY2xpZW50WCIsImxlZnQiLCJzdGFydFkiLCJjbGllbnRZIiwidG9wIiwic2VsZWN0aW9uRWwiLCJzZXRQb2ludGVyQ2FwdHVyZSIsInBvaW50ZXJJZCIsImN1cnJlbnRYIiwiY3VycmVudFkiLCJtaW4iLCJhYnMiLCJyZWxlYXNlUG9pbnRlckNhcHR1cmUiLCJ0YXJnZXRSZWN0Iiwic2VsZWN0aW9uUmVjdCIsInJpZ2h0IiwiYm90dG9tIiwicmVtb3ZlIiwibWV0YSIsInNjYWxlWCIsInNjYWxlWSIsInNlbGVjdGVkIiwieDEiLCJ5MSIsIngyIiwieTIiLCJpbnRlcnNlY3RzIiwiaGlnaGxpZ2h0IiwiZGl2Iiwic3BhbiIsInJlZiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/pdf-viewer/pdf-viewer.tsx\n"));

/***/ })

});